(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{591:function(t,e){},592:function(t,e){},601:function(t,e){},602:function(t,e){},622:function(t,e){},624:function(t,e){},625:function(t,e){},628:function(t,e){},629:function(t,e){},634:function(t,e){},635:function(t,e){},643:function(t,e){},649:function(t,e){},652:function(t,e){},654:function(t,e,n){"use strict";n.r(e);var o=n(468),r=n(483),l=n(805),c=n(197),m=n(806),d=n(481),h=n(210),f=n(581),v=(n(11),n(12),n(17),n(5),n(21),n(16),n(22),n(1)),y=n(56),_=n(585),k=n(48),L=(n(93),n(9),{required:function(t){return!!t||"This is Required."},notEmpty:function(t){return!t||""!==t.trim()||"Cannot be blank"},isEmailOrNull:function(t){if(t){return!!/^(([^<>()\\[\]\\.,;:\s@"]+(\.[^<>()\\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase().trim())}return!0},isEmail:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],nameRules:[function(t){return!!t||"Name is required"},function(t){return t&&t.length>=3||"Name must be greater than 3 characters"}],isValidVat:function(t){return t&&t.length>=9||"Enter valid VAT Number"},isValidMobile:function(t){return/^[6-9]{1}[0-9]{9}$/.test(t)||"Invalid Phone Number."}}),E={};function N(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?N(Object(source),!0).forEach((function(e){Object(v.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):N(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var w={props:{},data:function(){return{RULES:L,values:E,phoneData:null,countryCode:"IN",phoneNumber:null,isRegister:!1,username:Object(_.generateUsername)(),fullName:null,email:null}},computed:{phone:{get:function(){return this.$store.state.auth.phone},set:function(t){this.$store.commit("auth/setPhone",t)}},isLoading:{get:function(){return this.$store.state.auth.isLoading},set:function(t){this.$store.commit("auth/setIsLoding",t)}},otpToken:{get:function(){return this.$store.state.auth.otpToken},set:function(t){this.$store.commit("auth/setOtpToken",t)}},otp:{get:function(){return this.$store.state.auth.otp},set:function(t){this.$store.commit("auth/setOtp",t)}},isFirstLogin:{get:function(){return this.$store.state.auth.isFirstLogin},set:function(t){this.$store.commit("auth/setIsFirstLogin",t)}},userLoading:{get:function(){return this.$store.state.user.isLoading},set:function(t){this.$store.commit("user/setIsLoding",t)}}},mounted:function(){this.isFirstLogin=k.a.isFirstLogin()},methods:O(O({},Object(y.b)({showToast:"snackbar/showToast"})),{},{validateUser:function(){this.otpToken?this.$store.dispatch("auth/verifyOtpAndLogin",{otp:this.otp,otpToken:this.otpToken}):this.isRegister?this.$refs.userform.validate()&&this.phoneData.isValid?this.$store.dispatch("auth/register",{username:this.username,full_name:this.fullName,email:this.email,mobile:this.phoneData.nationalNumber,mobile_extension:"+"+this.phoneData.countryCallingCode}):this.showToast({color:"E",message:"Enter Reqired Fields!",rounded:"pill"}):null!=this.phoneData&&(this.phoneData.isValid?this.$store.dispatch("auth/getOtpToken",this.phoneData.nationalNumber):this.showToast({color:"E",message:"Invalid Phone number!",rounded:"pill"}))}})},R=n(49),component=Object(R.a)(w,(function(){var t=this,e=t._self._c;return e("div",[e(r.a,{staticClass:"text-h5 font-weight-medium"},[t._v("\n    "+t._s(t.isRegister?"Sign Up":"Login")+"\n  ")]),t._v(" "),e(r.a,{staticClass:"pa-0 mb-6"},[e("span",{staticClass:"font-weight-normal secondary--text"},[t._v("\n      "+t._s(t.isRegister?"Enter your details to register your":"Enter your phone number to login")+"\n    ")])]),t._v(" "),t.otpToken?e("span",{staticClass:"text-subtitle-1 secondary--text"},[t._v("\n    "+t._s(t.otpToken?"Weâ€™ve sent you an OTP at ".concat(t.phoneData.formatInternational):"Please enter your email to continue")+"\n  ")]):t._e(),t._v(" "),e(l.a,{ref:"userform",staticClass:"mt-6",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.validateUser.apply(null,arguments)}}},[t.isRegister?e("div",[e(h.d,[null===t.otpToken?e("div",[e(f.a,{attrs:{color:"primary",label:"Username",rules:[t.RULES.required,t.RULES.notEmpty],outlined:"","prepend-inner-icon":"mdi-tag-faces mdi-flip-h",dense:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),e(f.a,{attrs:{color:"primary",label:"Full Name",rules:[t.RULES.required,t.RULES.notEmpty],outlined:"","prepend-inner-icon":"mdi-account",dense:""},model:{value:t.fullName,callback:function(e){t.fullName=e},expression:"fullName"}}),t._v(" "),e(f.a,{attrs:{color:"primary",label:"Email",rules:[t.RULES.required,t.RULES.notEmpty],outlined:"","prepend-inner-icon":"mdi-email",dense:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),e("VuePhoneNumberInput",{ref:"phoneField",attrs:{"default-country-code":t.countryCode,"no-example":"","no-flags":"","show-code-on-list":""},on:{update:function(e){t.phoneData=e}},model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}}),t._v(" "),e(f.a,{staticClass:"d-none",attrs:{rules:[t.RULES.required],light:""},model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}})],1):t.otpToken?e("div",[e(m.a,{attrs:{rules:[t.RULES.required,t.RULES.notEmpty],length:"6",plain:"",type:"number"},on:{finish:t.validateUser},model:{value:t.otp,callback:function(e){t.otp=e},expression:"otp"}})],1):t._e()]),t._v(" "),e(o.a,{staticClass:"mt-6",attrs:{type:"submit",color:"green",dark:"",width:"70%",loading:t.isLoading||t.userLoading,large:""}},[t._v("\n        Continue\n      ")]),t._v(" "),e(r.a,[e(o.a,{staticClass:"mt-2",attrs:{text:"",color:"primary"},on:{click:function(e){e.stopPropagation(),t.isRegister=!1}}},[t._v("\n          Login Now\n        ")])],1)],1):e("div",[e(h.d,[null===t.otpToken?e("div",[e("VuePhoneNumberInput",{ref:"phoneField",attrs:{"default-country-code":t.countryCode,"no-example":"","no-flags":"","show-code-on-list":""},on:{update:function(e){t.phoneData=e}},model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}}),t._v(" "),e(f.a,{staticClass:"d-none",attrs:{rules:[t.RULES.required],light:""},model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}})],1):t.otpToken?e("div",[e(m.a,{attrs:{rules:[t.RULES.required,t.RULES.notEmpty],length:"6",plain:"",type:"number"},on:{finish:t.validateUser},model:{value:t.otp,callback:function(e){t.otp=e},expression:"otp"}})],1):t._e()]),t._v(" "),e(o.a,{staticClass:"mt-6",attrs:{type:"submit",color:"green",dark:"",width:"70%",loading:t.isLoading||t.userLoading,large:""}},[t._v("\n        Continue\n      ")]),t._v(" "),null===t.otpToken?e(r.a,[e("div",{staticClass:"text-h6 black--text"},[t._v("Or")]),t._v(" "),e("div",[t._v("Login/Sign up using social media account")]),t._v(" "),e(d.a,{staticClass:"ma-0 pa-1",attrs:{justify:"center",align:"center"}},[e(o.a,{attrs:{icon:"",color:"#4867AA"}},[e(c.a,[t._v("mdi-facebook")])],1),t._v(" "),e(o.a,{attrs:{icon:"",color:"#4867AA"}},[e(c.a,[t._v("mdi-google-plus")])],1),t._v(" "),e(o.a,{attrs:{icon:"",color:"#4867AA"}},[e(c.a,[t._v("mdi-instagram")])],1),t._v(" "),e(o.a,{attrs:{icon:"",color:"#4867AA"}},[e(c.a,[t._v("mdi-linkedin")])],1)],1),t._v(" "),e(r.a,[e(o.a,{staticClass:"mt-2",attrs:{text:"",color:"primary"},on:{click:function(e){e.stopPropagation(),t.isRegister=!0}}},[t._v("\n            Register Now\n          ")])],1)],1):t._e()],1)])],1)}),[],!1,null,null,null);e.default=component.exports}}]);